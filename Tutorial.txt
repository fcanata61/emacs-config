===================================
TUTORIAL DE INSTALAÇÃO E CONFIGURAÇÃO DO EMACS
===================================

# 1. Instalar o Emacs
No Linux (Debian/Ubuntu):
    sudo apt update
    sudo apt install emacs git curl build-essential cmake clangd

No Arch Linux:
    sudo pacman -S emacs git base-devel cmake clang clangd

No Fedora:
    sudo dnf install emacs git gcc gcc-c++ make cmake clang-tools-extra

No macOS:
    brew install emacs

No Windows:
    - Baixar do site oficial: https://ftp.gnu.org/gnu/emacs/windows/
    - Ou usar WSL2 e instalar como no Linux.

-----------------------------------
# 2. Estrutura de configuração
O Emacs lê arquivos de configuração no diretório:
    ~/.emacs.d/

Arquivos principais:
    ~/.emacs.d/init.el     -> configuração principal
    ~/.emacs.d/custom.el   -> Emacs salva ajustes automáticos aqui
    ~/.emacs.d/elpa/       -> pacotes instalados automaticamente

-----------------------------------
# 3. Criar configuração estilo VSCode
Crie o diretório de config:
    mkdir -p ~/.emacs.d

Crie o arquivo:
    nano ~/.emacs.d/init.el

Cole o seguinte conteúdo:

-----------------------------------
;; Desabilitar tela inicial
(setq inhibit-startup-message t)

;; Mostrar números de linha e coluna
(global-display-line-numbers-mode 1)
(column-number-mode 1)

;; Destacar linha atual
(global-hl-line-mode 1)

;; Mostrar pares de parênteses
(electric-pair-mode 1)

;; Remover menus e barras
(menu-bar-mode -1)
(tool-bar-mode -1)
(scroll-bar-mode -1)

;; Pacotes - MELPA e use-package
(require 'package)
(setq package-archives '(("gnu"   . "https://elpa.gnu.org/packages/")
                         ("melpa" . "https://melpa.org/packages/")))
(package-initialize)

(unless (package-installed-p 'use-package)
  (package-refresh-contents)
  (package-install 'use-package))

(eval-when-compile
  (require 'use-package))
(setq use-package-always-ensure t)

;; Tema visual moderno
(use-package doom-themes
  :config
  (load-theme 'doom-one t))

;; Explorer de diretórios (VSCode sidebar)
(use-package neotree
  :bind ([f8] . neotree-toggle)
  :config
  (setq neo-theme (if (display-graphic-p) 'icons 'arrow)))

(use-package all-the-icons
  :if (display-graphic-p))

;; Autocompletar (Company + LSP)
(use-package company
  :init
  (global-company-mode 1))

(use-package lsp-mode
  :hook ((prog-mode . lsp))
  :commands lsp
  :config
  (setq lsp-prefer-flymake nil))

(use-package lsp-ui :commands lsp-ui-mode)

;; Git (Magit)
(use-package magit
  :bind ("C-x g" . magit-status))

;; Terminal integrado
(use-package vterm
  :commands vterm
  :config
  (setq vterm-max-scrollback 10000))

;; Seleção e múltiplos cursores
(use-package multiple-cursors
  :bind (("C-S-c C-S-c" . mc/edit-lines)
         ("C->" . mc/mark-next-like-this)
         ("C-<" . mc/mark-previous-like-this)
         ("C-c C-<" . mc/mark-all-like-this)))

;; Melhor navegação (Ivy/Counsel/Swiper)
(use-package ivy
  :init (ivy-mode 1))

(use-package counsel
  :after ivy
  :bind (("M-x" . counsel-M-x)
         ("C-x C-f" . counsel-find-file)
         ("C-s" . swiper)))

;; Syntax Highlighting extra
(use-package rainbow-delimiters
  :hook (prog-mode . rainbow-delimiters-mode))

(use-package which-key
  :init (which-key-mode))

;; Atalhos práticos VSCode-like
(global-set-key (kbd "C-S-l") 'goto-line)          ;; Ir para linha
(global-set-key (kbd "M-<up>") 'previous-line)     ;; Navegar rápido ↑
(global-set-key (kbd "M-<down>") 'next-line)       ;; Navegar rápido ↓
(global-set-key (kbd "C-d") 'kill-whole-line)      ;; Deletar linha
-----------------------------------

Salve e feche o arquivo.

-----------------------------------
# 4. Primeiro uso
Abra o Emacs:
    emacs

Ele vai baixar e instalar todos os pacotes necessários (use-package, magit, doom-themes, neotree, etc.).

-----------------------------------
# 5. Principais comandos da configuração

EXPLORER DE ARQUIVOS:
    F8        -> abre/fecha árvore de diretórios (neotree)

GIT:
    C-x g     -> abre o Magit (interface completa do Git)

TERMINAL INTEGRADO:
    M-x vterm -> abre um terminal real dentro do Emacs

NAVEGAÇÃO:
    C-S-l     -> ir para linha
    M-↑ / ↓   -> mover cursor rápido
    C-d       -> deletar linha

BUSCA E ARQUIVOS:
    M-x       -> buscar comandos (Counsel)
    C-x C-f   -> abrir arquivo
    C-s       -> buscar no arquivo (Swiper)

MÚLTIPLOS CURSORES:
    C->       -> marcar próxima ocorrência
    C-<       -> marcar ocorrência anterior
    C-c C-<   -> marcar todas as ocorrências
    C-S-c C-S-c -> editar várias linhas de uma vez

OUTROS:
    Linhas numeradas sempre visíveis
    Destacar linha atual
    Auto-pares de (), {}, []
    Coloração avançada de sintaxe

-----------------------------------
# 6. Instalar novos pacotes/temas
- O Emacs baixa pacotes automaticamente do MELPA/ELPA.
- Para instalar manualmente:
    M-x package-install RET nome-do-pacote RET

Exemplos:
    M-x package-install RET dracula-theme RET
    M-x package-install RET markdown-mode RET

- Para trocar o tema:
    M-x load-theme RET doom-one RET
    M-x load-theme RET dracula RET

-----------------------------------
# 7. Como abrir diretórios/projetos
- Use F8 para abrir o Neotree e navegar pelas pastas.
- Ou abra diretamente:
    emacs ~/meu_projeto

-----------------------------------
# 8. Próximos passos
- Instalar servidores LSP para linguagens (C, C++, Python, Rust).
  Exemplo: para C/C++ instale `clangd`.
  Para Python: `pip install python-lsp-server`.

- Integrar com org-mode para notas/tarefas.
- Personalizar atalhos no `init.el`.

===================================
Fim do Tutorial
===================================
